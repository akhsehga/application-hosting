

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>            XR Toolbox, Part 3 : App Development Topology      IOS XR Application Hosting @xrdocs      </title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="IOS XR Application Hosting @xrdocs">
<meta property="og:title" content="XR Toolbox, Part 3 : App Development Topology">


  <link rel="canonical" href="https://xrdocs.io/application-hosting/tutorials/2016-06-06-xr-toolbox-app-development-topology">
  <meta property="og:url" content="https://xrdocs.io/application-hosting/tutorials/2016-06-06-xr-toolbox-app-development-topology">



  <meta property="og:description" content="Typical Vagrant Developer Topology to build and test Apps for IOS-XR">



  <meta name="twitter:site" content="@xrdocs">
  <meta name="twitter:title" content="XR Toolbox, Part 3 : App Development Topology">
  <meta name="twitter:description" content="Typical Vagrant Developer Topology to build and test Apps for IOS-XR">
  <meta name="twitter:url" content="https://xrdocs.io/tutorials/2016-06-06-xr-toolbox-app-development-topology">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://xrdocs.io/application-hosting/images/app-hosting-xrdocs.jpg">
    
  

  
    <meta name="twitter:creator" content="@Akshat Sharma">
  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2016-06-06T07:13:00+00:00">
  
    <link rel="next" href="https://xrdocs.io/application-hosting/tutorials/2016-06-16-xr-toolbox-part-4-bring-your-own-container-lxc-app/" title="XR toolbox, Part 4: Bring your own Container (LXC) App">
  
  
    <link rel="prev" href="https://xrdocs.io/application-hosting/tutorials/IOSXR-Ansible" title="Using Ansible with IOS-XR 6.1.1">
  



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://xrdocs.io/application-hosting",
      "logo": "https://xrdocs.io/application-hosting/images/app-hosting-xrdocs.jpg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "person",
      "name" : "Cisco Systems Inc",
      "url" : "https://xrdocs.io/application-hosting",
      "sameAs" : ["https://twitter.com/xrdocs"]
    }
  </script>






<!-- end SEO -->

<link href="https://xrdocs.io/application-hosting/feed.xml" type="application/atom+xml" rel="alternate" title="IOS XR Application Hosting @xrdocs Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="jgRKKm6B9FwJJPXxpmc0-EP3D0Mh8JHXaJqoYIGj1ek" />

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<script>
if (!(window.location.host.startsWith("127.0.0.1") || window.location.host.startsWith("localhost")) && (window.location.host.substr(-3) == '.io') && (window.location.protocol != "https:"))
    window.location.protocol = "https";
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/application-hosting/assets/css/main.css">
<meta http-equiv="cleartype" content="on">
<style>
.underline-on-hover:hover {
    text-decoration: underline;
}
.searchForm{
      border-radius:5px;
      -moz-border-radius:5px;
      -webkit-border-radius:5px;
      width: 900px;
   }
#search_results{
      display: table; margin:0 auto;
   }
</style>
</style>

    

<!-- start custom head snippets -->

<link href="https://xrdocs.io/application-hosting/assets/css/lity.min.css" rel="stylesheet">
<link href="https://xrdocs.io/application-hosting/assets/css/cisco-sans.min.css" rel="stylesheet">
<link href="https://xrdocs.io/application-hosting/assets/css/material-scrolltop.css" rel="stylesheet">

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-128.png" sizes="128x128" />
<link rel="shortcut icon" href="https://xrdocs.io/application-hosting/images/favicon_cisco.ico" />
<meta name="application-name" content="&nbsp;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="https://xrdocs.io/application-hosting/images/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="https://xrdocs.io/application-hosting/images/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="https://xrdocs.io/application-hosting/images/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="https://xrdocs.io/application-hosting/images/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="https://xrdocs.io/application-hosting/images/mstile-310x310.png" />


<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu" style="padding-left:2em;">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <img src="https://xrdocs.io/application-hosting/images/xrdocs_logo.png" width="45px" height="45px" alt="xrdocs logo" style="float:left;">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://xrdocs.io">@xrdocs</a></li>
          <li class="masthead__menu-item"><a href="https://xrdocs.io/application-hosting/">App-Hosting</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    



<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="https://xrdocs.io/application-hosting/images/avatars/" class="author__avatar" alt="">
    
  </div>

  <div class="author__content">
    <h3 class="author__name"></h3>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>


  </div>
    <br><button class="btn"><a href="//pdfcrowd.com/url_to_pdf/" style="color:white">Save as PDF</a></button>

</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="XR Toolbox, Part 3 : App Development Topology">
    <meta itemprop="description" content="Typical Vagrant Developer Topology to build and test Apps for IOS-XR">
    <meta itemprop="datePublished" content="June 06, 2016">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">XR Toolbox, Part 3 : App Development Topology
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  6 
</p>
          
        </header>
      

    
      
        





<div class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList" style="margin:0;padding:0;">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem" style="margin:0;padding:0;">
          <a href="https://xrdocs.io/application-hosting/" itemprop="item"><span itemprop="name"></span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep"></span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem" style="margin:0;padding:0;">
          <a href="https://xrdocs.io/application-hosting/tutorials" itemprop="item"><span itemprop="name">Tutorials</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep"></span>
      
    
      
      
        <li class="current" style="margin:0;padding:0;">XR Toolbox, Part 3 : App Development Topology </li>
      
    
  </ol>
</div>

      
    

      <section class="page__content" itemprop="text">
        
<aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-table"></i> App Development Topology</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#pre-requisites" id="markdown-toc-pre-requisites">Pre-requisites</a></li>
  <li><a href="#understand-the-topology" id="markdown-toc-understand-the-topology">Understand the topology</a></li>
  <li><a href="#bring-up-the-topology" id="markdown-toc-bring-up-the-topology">Bring up the topology</a>    <ul>
      <li><a href="#download-and-add-the-xr-vagrant-box" id="markdown-toc-download-and-add-the-xr-vagrant-box">Download and Add the XR Vagrant box</a></li>
      <li><a href="#launch-the-nodes" id="markdown-toc-launch-the-nodes">Launch the nodes</a></li>
      <li><a href="#check-reachability" id="markdown-toc-check-reachability">Check Reachability</a></li>
    </ul>
  </li>
</ul>

  </nav>
</aside>

<p>Check out Part 2 of the XR toolbox series: <a href="https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-bootstrap-config">Bootstrap XR configuration with Vagrant</a>.</p>

<h2 id="introduction">Introduction</h2>

<p>Without diving too deep into the IOS-XR architecture, it might be useful to state that applications on IOS-XR may be deployed in two different ways:</p>

<ul>
  <li>natively (inside the XR process space) OR</li>
  <li>as a container (LXC)</li>
</ul>

<p class="notice--warning">In this quick start guide we introduce a typical vagrant topology that we intend to use in other quick start guides in the <a href="https://xrdocs.io/application-hosting/tags/#xr-toolbox">XR Toolbox series</a>. <br />
This topology will be used to build and deploy container (LXC) as well as native XR applications and test them on Vagrant IOS-XR.</p>

<h2 id="pre-requisites">Pre-requisites</h2>

<ul>
  <li>Meet the pre-requisites specified in the <a href="https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-quickstart#pre-requisites">IOS-XR Vagrant Quick Start guide: Pre-requisites</a>. <br />
The topology here will require about 5G RAM and 2 cores on the user&#8217;s laptop.</li>
  <li>Clone the following repository: <a href="https://github.com/ios-xr/vagrant-xrdocs">https://github.com/ios-xr/vagrant-xrdocs</a>, before we start.</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/
git clone https://github.com/ios-xr/vagrant-xrdocs.git
<span class="nb">cd </span>vagrant-xrdocs/
</code></pre></div></div>

<p class="notice--info">You will notice a few directories. We will utilize the <code class="highlighter-rouge">lxc-app-topo-bootstrap</code> directory in this tutorial.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AKSHSHAR-M-K0DS:vagrant-xrdocs akshshar<span class="nv">$ </span><span class="nb">pwd</span>
/Users/akshshar/vagrant-xrdocs
AKSHSHAR-M-K0DS:vagrant-xrdocs akshshar<span class="nv">$ </span><span class="nb">ls </span>lxc-app-topo-bootstrap/
Vagrantfile	configs		scripts
AKSHSHAR-M-K0DS:vagrant-xrdocs akshshar<span class="nv">$ </span>
</code></pre></div></div>

<h2 id="understand-the-topology">Understand the topology</h2>

<p>For this tutorial, we&#8217;ll use a two-node topology: An XR vagrant instance connected to Linux instance (devbox). For illustrative purposes, we use Ubuntu as our devbox OS:</p>

<p><img src="https://xrdocs.github.io/xrdocs-images/assets/tutorial-images/app_dev_topology.png" alt="app dev topo" /></p>

<p>The Vagrantfile to bring up this topology is already in your cloned directory:</p>

<p><code class="highlighter-rouge">vagrant-xrdocs/lxc-app-topo-bootstrap/Vagrantfile</code></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  

 <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">define</span> <span class="s2">"rtr"</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
   <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span>  <span class="s2">"IOS-XRv"</span>

   <span class="c1"># gig0/0/0 connected to "link1"</span>
   <span class="c1"># auto_config is not supported for XR, set to false</span>

   <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">virtualbox__intnet: </span><span class="s2">"link1"</span><span class="p">,</span> <span class="ss">auto_config: </span><span class="kp">false</span>


   <span class="c1">#Source a config file and apply it to XR</span>

   <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provision</span> <span class="s2">"file"</span><span class="p">,</span> <span class="ss">source: </span><span class="s2">"configs/rtr_config"</span><span class="p">,</span> <span class="ss">destination: </span><span class="s2">"/home/vagrant/rtr_config"</span>

   <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provision</span> <span class="s2">"shell"</span> <span class="k">do</span> <span class="o">|</span><span class="n">s</span><span class="o">|</span>
     <span class="n">s</span><span class="p">.</span><span class="nf">path</span> <span class="o">=</span>  <span class="s2">"scripts/apply_config.sh"</span>
     <span class="n">s</span><span class="p">.</span><span class="nf">args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"/home/vagrant/rtr_config"</span><span class="p">]</span>
   <span class="k">end</span>

 <span class="k">end</span>

 
 <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">define</span> <span class="s2">"devbox"</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
   <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span>  <span class="s2">"ubuntu/trusty64"</span>

   <span class="c1"># eth1 connected to link1</span>
   <span class="c1"># auto_config is supported for an ubuntu instance</span>

   <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">virtualbox__intnet: </span><span class="s2">"link1"</span><span class="p">,</span> <span class="ss">ip: </span><span class="s2">"11.1.1.20"</span>
   

 <span class="k">end</span>

<span class="k">end</span>
</code></pre></div></div>

<p class="notice--warning"><strong>Notice the   <code class="highlighter-rouge">#Source a config file and apply it to XR</code> section of the Vagrantfile? This is derived from the <a href="https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-bootstrap-config">Bootstrap XR configuration with Vagrant</a> tutorial. Check it out if you want to know more about how shell provisioning with XR works</strong></p>

<p>The configuration we wish to apply to XR on boot is pretty simple. You can find it in the <code class="highlighter-rouge">lxc-app-topo-bootstrap/configs</code> directory.<br />
We want to configure the XR interface: <code class="highlighter-rouge">GigabitEthernet0/0/0/0</code> with the ip-address: <code class="highlighter-rouge">11.1.1.10</code></p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:vagrant-xrdocs akshshar$<mark> cat lxc-app-topo-bootstrap/configs/rtr_config </mark>
!! XR configuration
!
interface GigabitEthernet0/0/0/0
  ip address 11.1.1.10/24
  no shutdown
!
end
AKSHSHAR-M-K0DS:vagrant-xrdocs akshshar$ 
</code>
</pre>
</div>

<p class="notice--info">Take a look at the Vagrantfile above, again. We use the Vagrant auto_config capabilities to make sure &#8220;eth1&#8221; interface of the Ubuntu VM (called devbox) is configured in the same subnet (11.1.1.20) as XR gig0/0/0/0.</p>

<h2 id="bring-up-the-topology">Bring up the topology</h2>

<h3 id="download-and-add-the-xr-vagrant-box">Download and Add the XR Vagrant box</h3>

<blockquote class="notice--danger">

  <p><strong>IOS-XR Vagrant is currently in Private Beta</strong></p>

  <p>To download the box, you will need an <strong>API-KEY</strong> and a <strong>CCO-ID</strong></p>

  <p>To get the API-KEY and a CCO-ID, browse to the following link and follow the steps:</p>

  <p><a href="https://xrdocs.io/getting-started/steps-download-iosxr-vagrant">Steps to Generate API-KEY</a></p>
</blockquote>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
$ BOXURL="http://devhub.cisco.com/artifactory/appdevci-release/XRv64/latest/iosxrv-fullk9-x64.box"

$ curl <b><mark>-u your-cco-id:API-KEY </mark></b> $BOXURL --output ~/iosxrv-fullk9-x64.box

$ vagrant box add --name IOS-XRv ~/iosxrv-fullk9-x64.box
</code>
</pre>
</div>

<p class="notice--danger">Of course, you should replace  your-cco-id with your actual Cisco.com ID and API-KEY with the key you generated and copied using the above <a href="https://xrdocs.io/getting-started/steps-download-iosxr-vagrant">link</a>.</p>

<p class="notice--info">The <code class="highlighter-rouge">vagrant box add</code> command will take around 10-15 mins as it downloads the box for you.</p>

<p>Once it completes, you should be able to see the box added as &#8220;IOS-XRv&#8221; in your local vagrant box list:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
AKSHSHAR-M-K0DS:~ akshshar<span class="nv">$ </span>vagrant box list
IOS-XRv <span class="o">(</span>virtualbox, 0<span class="o">)</span>
AKSHSHAR-M-K0DS:~ akshshar<span class="nv">$ </span>

</code></pre></div></div>

<h3 id="launch-the-nodes">Launch the nodes</h3>

<p>Make sure you&#8217;re in the <code class="highlighter-rouge">lxc-app-topo-bootstrap/</code> directory and issue a <code class="highlighter-rouge">vagrant up</code></p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:lxc-app-topo-bootstrap akshshar$<mark>pwd</mark>
<mark>/Users/akshshar/vagrant-xrdocs/lxc-app-topo-bootstrap</mark>
AKSHSHAR-M-K0DS:lxc-app-topo-bootstrap akshshar$<mark> vagrant up </mark>
Bringing machine 'rtr' up with 'virtualbox' provider...
Bringing machine 'devbox' up with 'virtualbox' provider...
==&gt; rtr: Importing base box 'IOS-XRv'...
==&gt; rtr: Matching MAC address for NAT networking...
==&gt; rtr: Setting the name of the VM: lxc-app-topo-bootstrap_rtr_1465208784531_75603
==&gt; rtr: Clearing any previously set network interfaces...
==&gt; rtr: Preparing network interfaces based on configuration...
    rtr: Adapter 1: nat
    rtr: Adapter 2: intnet
==&gt; rtr: Forwarding ports...
    rtr: 57722 (guest) =&gt; 2222 (host) (adapter 1)
    rtr: 22 (guest) =&gt; 2223 (host) (adapter 1)
==&gt; rtr: Running 'pre-boot' VM customizations...
==&gt; rtr: Booting VM...
==&gt; rtr: Waiting for machine to boot. This may take a few minutes...
    rtr: SSH address: 127.0.0.1:2222
    rtr: SSH username: vagrant
    rtr: SSH auth method: private key
    rtr: Warning: Remote connection disconnect. Retrying...
    rtr: Warning: Remote connection disconnect. Retrying...
    
   

</code>
</pre>
</div>

<p>Once it completes, you should be able to see both the VMs running by using the <code class="highlighter-rouge">vagrant status</code> command inside the <code class="highlighter-rouge">lxc-app-topo-bootstrap/</code> directory:</p>

<p><img src="https://xrdocs.github.io/xrdocs-images/assets/tutorial-images/vagrant_status_lxc_app.png" alt="Vagrant Status output" /></p>

<h3 id="check-reachability">Check Reachability</h3>

<p>To get into the Ubuntu &#8220;devbox&#8221;, issue a <code class="highlighter-rouge">vagrant ssh devbox</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AKSHSHAR-M-K0DS:lxc-app-topo-bootstrap akshshar<span class="nv">$ </span>vagrant ssh devbox
Welcome to Ubuntu 14.04.4 LTS <span class="o">(</span>GNU/Linux 3.13.0-87-generic x86_64<span class="o">)</span>

 <span class="k">*</span> Documentation:  https://help.ubuntu.com/

  System information as of Mon Jun  6 11:20:37 UTC 2016

  System load:  0.0               Processes:           74
  Usage of /:   3.5% of 39.34GB   Users logged <span class="k">in</span>:     0
  Memory usage: 25%               IP address <span class="k">for </span>eth0: 10.0.2.15
  Swap usage:   0%                IP address <span class="k">for </span>eth1: 11.1.1.20

  Graph this data and manage this system at:
    https://landscape.canonical.com/

  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

0 packages can be updated.
0 updates are security updates.


vagrant@vagrant-ubuntu-trusty-64:~<span class="nv">$ </span>
</code></pre></div></div>

<p>From &#8220;devbox&#8221;, you should be able to ping the XR Gig0/0/0/0 interface:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vagrant@vagrant-ubuntu-trusty-64:~<span class="nv">$ </span>ping 11.1.1.10 <span class="nt">-c</span> 2
PING 11.1.1.10 <span class="o">(</span>11.1.1.10<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
64 bytes from 11.1.1.10: <span class="nv">icmp_seq</span><span class="o">=</span>1 <span class="nv">ttl</span><span class="o">=</span>255 <span class="nb">time</span><span class="o">=</span>1.56 ms
64 bytes from 11.1.1.10: <span class="nv">icmp_seq</span><span class="o">=</span>2 <span class="nv">ttl</span><span class="o">=</span>255 <span class="nb">time</span><span class="o">=</span>1.44 ms

<span class="nt">---</span> 11.1.1.10 ping statistics <span class="nt">---</span>
2 packets transmitted, 2 received, 0% packet loss, <span class="nb">time </span>1003ms
rtt min/avg/max/mdev <span class="o">=</span> 1.447/1.504/1.562/0.069 ms
vagrant@vagrant-ubuntu-trusty-64:~<span class="nv">$ </span>
</code></pre></div></div>

<p>To get into XR linux shell, issue <code class="highlighter-rouge">vagrant ssh rtr</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AKSHSHAR-M-K0DS:lxc-app-topo-bootstrap akshshar<span class="nv">$ </span>vagrant ssh rtr
Last login: Mon Jun  6 11:20:58 2016 from 10.0.2.2
xr-vm_node0_RP0_CPU0:~<span class="nv">$ </span>
xr-vm_node0_RP0_CPU0:~<span class="nv">$ifconfig</span> Gi0_0_0_0
Gi0_0_0_0 Link encap:Ethernet  HWaddr 08:00:27:46:1f:b2  
          inet addr:11.1.1.10  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fe46:1fb2/64 Scope:Link
          UP RUNNING NOARP MULTICAST  MTU:1514  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1 errors:0 dropped:3 overruns:0 carrier:1
          collisions:0 txqueuelen:1000 
          RX bytes:0 <span class="o">(</span>0.0 B<span class="o">)</span>  TX bytes:42 <span class="o">(</span>42.0 B<span class="o">)</span>

xr-vm_node0_RP0_CPU0:~<span class="nv">$ </span>
xr-vm_node0_RP0_CPU0:~<span class="nv">$ </span>
xr-vm_node0_RP0_CPU0:~<span class="nv">$ </span>
</code></pre></div></div>

<p>To get into XR CLI, remember that XR SSH runs on port 22 of the guest IOS-XR instance.<br />
First, determine the port to which the XR SSH port (port 22) is forwarded by vagrant by using the <code class="highlighter-rouge">vagrant port</code> command:</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:lxc-app-topo-bootstrap akshshar$<mark> vagrant port rtr </mark>
The forwarded ports for the machine are listed below. Please note that
these values may differ from values configured in the Vagrantfile if the
provider supports automatic port collision detection and resolution.

    <mark>22 (guest) =&gt; 2223 (host)</mark>
 57722 (guest) =&gt; 2222 (host)

</code>
</pre>
</div>

<p>As shown above, port 22 of XR is fowarded to port 2223:</p>

<p>Use port 2223 to now ssh into XR CLI</p>

<p class="notice--info">The password is &#8220;vagrant&#8221;</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:lxc-app-topo-bootstrap akshshar$<mark> ssh -p 2223 vagrant@localhost</mark>
The authenticity of host '[localhost]:2223 ([127.0.0.1]:2223)' can't be established.
RSA key fingerprint is 7f:1a:56:e1:3c:7f:cf:a4:ee:ac:20:3a:e6:cf:ad:f5.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[localhost]:2223' (RSA) to the list of known hosts.
vagrant@localhost's password: 


RP/0/RP0/CPU0:ios#
RP/0/RP0/CPU0:ios#show ipv4 interface gigabitEthernet 0/0/0/0 brief 
Tue Jun  7 03:23:31.324 UTC

Interface                      IP-Address      Status                Protocol
GigabitEthernet0/0/0/0         11.1.1.10       Up                    Up      
RP/0/RP0/CPU0:ios#

</code>
</pre>
</div>

<p class="notice--success">You&#8217;re all set! You can now use this topology to build applications (native-WRL7 or LXC containers) on the &#8220;devbox&#8221; and test them out on the IOS-XR vagrant node. We will explore these scenarios in the next set of tutorials in the <a href="https://xrdocs.io/application-hosting/tags/#xr-toolbox">XR Toolbox</a> series.</p>

<p>Head over to Part 4 of the XR Toolbox series where we create and bring up a container (LXC) app on IOS-XR &#8212;&gt; <a href="https://xrdocs.io/application-hosting/tutorials/2016-06-16-xr-toolbox-part-4-bring-your-own-container-lxc-app/">Bring your own Container (LXC) App</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i>  </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#apphosting" class="page__taxonomy-item" rel="tag">apphosting</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#cisco" class="page__taxonomy-item" rel="tag">cisco</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#iosxr" class="page__taxonomy-item" rel="tag">iosxr</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#linux" class="page__taxonomy-item" rel="tag">linux</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#topology" class="page__taxonomy-item" rel="tag">topology</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#vagrant" class="page__taxonomy-item" rel="tag">vagrant</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#xr-toolbox" class="page__taxonomy-item" rel="tag">xr toolbox</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> </strong> <time datetime="2016-06-06T07:13:00+00:00">June 06, 2016</time></p>
        
        

      </footer>

      

<section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=https://xrdocs.io/application-hosting/tutorials/2016-06-06-xr-toolbox-app-development-topology" class="btn btn--twitter" title=" Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://xrdocs.io/application-hosting/tutorials/2016-06-06-xr-toolbox-app-development-topology" class="btn btn--facebook" title=" Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https://xrdocs.io/application-hosting/tutorials/2016-06-06-xr-toolbox-app-development-topology" class="btn btn--google-plus" title=" Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://xrdocs.io/application-hosting/tutorials/2016-06-06-xr-toolbox-app-development-topology" class="btn btn--linkedin" title=" LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

    <br>
    <br>
    <br>
</section>


    </div>

    
      

<div class="page__comments">
  <h4 class="page__comments-title"></h4>
  
    <section id="disqus_thread"></section>
  
</div>
    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
    
      <li><a href="https://twitter.com/xrdocs"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/xrdocs"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https://xrdocs.io/application-hosting/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> </a></li>
  </ul>
</div>

<div class="page__footer-copyright">This site is maintained by Cisco Systems, Inc. employees.  <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://xrdocs.io/application-hosting/assets/js/main.min.js"></script>
<script src="https://xrdocs.io/application-hosting/assets/js/scrollmenu.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78256516-1', 'auto');
  ga('send', 'pageview');
</script>






  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'xrdocs';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






<!-- material-scrolltop button -->
<button class="material-scrolltop" type="button"></button>

<!-- material-scrolltop plugin -->
<script src="https://xrdocs.io/application-hosting/assets/js/material-scrolltop.js"></script>

<!-- Initialize material-scrolltop with (minimal) -->
<script>
    $('body').materialScrollTop();
</script>


  </body>
</html>

