<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>            XR toolbox, Part 1 : IOS-XR Vagrant Quick Start      IOS XR Application Hosting @xrdocs      </title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="IOS XR Application Hosting @xrdocs">
<meta property="og:title" content="XR toolbox, Part 1 : IOS-XR Vagrant Quick Start">


  <link rel="canonical" href="https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-quickstart">
  <meta property="og:url" content="https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-quickstart">



  <meta property="og:description" content="Getting started with Cisco’s IOS-XR Vagrant box">



  <meta name="twitter:site" content="@xrdocs">
  <meta name="twitter:title" content="XR toolbox, Part 1 : IOS-XR Vagrant Quick Start">
  <meta name="twitter:description" content="Getting started with Cisco’s IOS-XR Vagrant box">
  <meta name="twitter:url" content="https://xrdocs.io/tutorials/iosxr-vagrant-quickstart">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://xrdocs.io/application-hosting/images/app-hosting-xrdocs.jpg">
    
  

  
    <meta name="twitter:creator" content="@irakshat">
  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2016-05-22T20:49:00+00:00">
  
    <link rel="next" href="https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-bootstrap-config" title="XR Toolbox, Part 2 : Bootstrap XR configuration with Vagrant">
  
  



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://xrdocs.io/application-hosting",
      "logo": "https://xrdocs.io/application-hosting/images/app-hosting-xrdocs.jpg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "person",
      "name" : "Cisco Systems Inc",
      "url" : "https://xrdocs.io/application-hosting",
      "sameAs" : ["https://twitter.com/xrdocs"]
    }
  </script>






<!-- end SEO -->

<link href="https://xrdocs.io/application-hosting/feed.xml" type="application/atom+xml" rel="alternate" title="IOS XR Application Hosting @xrdocs Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="jgRKKm6B9FwJJPXxpmc0-EP3D0Mh8JHXaJqoYIGj1ek">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<script>
if (!(window.location.host.startsWith("127.0.0.1") || window.location.host.startsWith("localhost")) && (window.location.host.substr(-3) == '.io') && (window.location.protocol != "https:"))
    window.location.protocol = "https";
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/application-hosting/assets/css/main.css">
<meta http-equiv="cleartype" content="on">
<style>
.underline-on-hover:hover {
    text-decoration: underline;
}
.searchForm{
      border-radius:5px;
      -moz-border-radius:5px;
      -webkit-border-radius:5px;
      width: 900px;
   }
#search_results{
      display: table; margin:0 auto;
   }
</style>


    

<!-- start custom head snippets -->

<link href="https://xrdocs.io/application-hosting/assets/css/lity.min.css" rel="stylesheet">
<link href="https://xrdocs.io/application-hosting/assets/css/cisco-sans.min.css" rel="stylesheet">
<link href="https://xrdocs.io/application-hosting/assets/css/material-scrolltop.css" rel="stylesheet">

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://xrdocs.io/application-hosting/images/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="https://xrdocs.io/application-hosting/images/favicon-128.png" sizes="128x128">
<link rel="shortcut icon" href="https://xrdocs.io/application-hosting/images/favicon_cisco.ico">
<meta name="application-name" content=" ">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="https://xrdocs.io/application-hosting/images/mstile-144x144.png">
<meta name="msapplication-square70x70logo" content="https://xrdocs.io/application-hosting/images/mstile-70x70.png">
<meta name="msapplication-square150x150logo" content="https://xrdocs.io/application-hosting/images/mstile-150x150.png">
<meta name="msapplication-wide310x150logo" content="https://xrdocs.io/application-hosting/images/mstile-310x150.png">
<meta name="msapplication-square310x310logo" content="https://xrdocs.io/application-hosting/images/mstile-310x310.png">


<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu" style="padding-left:2em;">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <img src="https://xrdocs.io/application-hosting/images/xrdocs_logo.png" width="45px" height="45px" alt="xrdocs logo" style="float:left;">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://xrdocs.io">@xrdocs</a></li>
          <li class="masthead__menu-item"><a href="https://xrdocs.io/application-hosting/">App-Hosting</a></li>
          
            
            
                
                    <li class="masthead__menu-item"><a href="https://xrdocs.io/application-hosting/blogs/">Blogs</a></li>
                
            


          
            
            
                
                    <li class="masthead__menu-item greedy-nav-active"><a href="https://xrdocs.io/application-hosting/tutorials/">Tutorials</a></li>
                
            


          
            
            
                
                    <li class="masthead__menu-item"><a href="https://xrdocs.io/application-hosting/search">Search <i class="fa fa-search" aria-hidden="true"></i></a></li>
                
            


          
            
            
                
                    <li class="masthead__menu-item"><a href="https://xrdocs.io/application-hosting/tags/">Tags</a></li>
                
            


          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    



<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="https://xrdocs.io/application-hosting/images/avatars/akshat_bio_photo.jpeg" class="author__avatar" alt="Akshat Sharma">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Akshat Sharma</h3>
    <p class="author__bio">Evangelist, tinkerer, dog-lover and Technical Marketing Engineer, Cisco.</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
      
      
        <li><a href="mailto:akshshar@cisco.com"><i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
      
      
      
        <li><a href="http://twitter.com/irakshat"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
      
      
      
      
      
        <li><a href="http://github.com/akshshar"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>


  </div>
    <br><button class="btn"><a href="//pdfcrowd.com/url_to_pdf/" style="color:white">Save as PDF</a></button>

</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="XR toolbox, Part 1 : IOS-XR Vagrant Quick Start">
    <meta itemprop="description" content="Getting started with Cisco’s IOS-XR Vagrant box">
    <meta itemprop="datePublished" content="May 22, 2016">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">XR toolbox, Part 1 : IOS-XR Vagrant Quick Start
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  7 minutes read
</p>
          
        </header>
      

    
      
        





<div class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList" style="margin:0;padding:0;">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem" style="margin:0;padding:0;">
          <a href="https://xrdocs.io/application-hosting/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem" style="margin:0;padding:0;">
          <a href="https://xrdocs.io/application-hosting/tutorials" itemprop="item"><span itemprop="name">Tutorials</span></a>
          <meta itemprop="position" content="2">
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current" style="margin:0;padding:0;">XR toolbox, Part 1 : IOS-XR Vagrant Quick Start</li>
      
    
  </ol>
</div>

      
    

      <section class="page__content" itemprop="text">
        <aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title">
<i class="fa fa-table"></i> IOS-XR Vagrant: Quick Start</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#pre-requisites" id="markdown-toc-pre-requisites">Pre-requisites:</a></li>
  <li>
<a href="#single-node-bringup" id="markdown-toc-single-node-bringup">Single Node Bringup</a>    <ul>
      <li><a href="#download-and-add-the-ios-xrv-vagrant-box" id="markdown-toc-download-and-add-the-ios-xrv-vagrant-box">Download and Add the IOS-XRv vagrant box</a></li>
      <li><a href="#pick-the-last-stable-version" id="markdown-toc-pick-the-last-stable-version">Pick the last stable version</a></li>
      <li><a href="#pick-the-latest-run-with-scissors" id="markdown-toc-pick-the-latest-run-with-scissors">Pick the latest (run with scissors)</a></li>
      <li><a href="#initialize-a-vagrantfile" id="markdown-toc-initialize-a-vagrantfile">Initialize a Vagrantfile</a></li>
      <li><a href="#bring-up-the-vagrant-instance" id="markdown-toc-bring-up-the-vagrant-instance">Bring up the Vagrant Instance</a></li>
      <li><a href="#access-the-xr-linux-shell" id="markdown-toc-access-the-xr-linux-shell">Access the XR Linux shell</a></li>
      <li><a href="#access-xr-console" id="markdown-toc-access-xr-console">Access XR Console</a></li>
    </ul>
  </li>
  <li>
<a href="#multi-node-bringup" id="markdown-toc-multi-node-bringup">Multi Node Bringup</a>    <ul>
      <li><a href="#set-up-the-vagrantfile" id="markdown-toc-set-up-the-vagrantfile">Set up the Vagrantfile</a></li>
      <li><a href="#bring-up-the-topology" id="markdown-toc-bring-up-the-topology">Bring up the topology</a></li>
      <li><a href="#access-the-nodes" id="markdown-toc-access-the-nodes">Access the nodes</a></li>
    </ul>
  </li>
</ul>

  </nav>
</aside>

<h2 id="introduction">Introduction</h2>

<p>This tutorial is meant to be a quick-start guide to get you up and running with an IOS-XRv Vagrant box.</p>

<p>If you’re unfamiliar with Vagrant as a tool for development, testing and design, then here’s a quick look at why Vagrant is useful, directly from the folks at Hashicorp:</p>

<blockquote>
  <p><a href="https://www.vagrantup.com/intro/index.html">https://www.vagrantup.com/intro/index.html</a></p>
</blockquote>

<blockquote class="notice--info">

  <p><strong>To learn more about how to use IOS-XR + Vagrant to</strong></p>

  <ul>
    <li>Test native and container applications on IOS-XR</li>
    <li>Use configuration management tools like Chef/Puppet/Ansible/Shell as Vagrant provisioners</li>
    <li>Create complicated topologies and a variety of other use cases,</li>
  </ul>

  <p>take a look at the rest of the <a href="https://xrdocs.io/application-hosting/tags/#xr-toolbox">“XR toolbox” series</a>.</p>
</blockquote>

<p class="notice--info"><strong>Note to Users</strong>: We try out best to offer the community a development platform for IOS-XR that brings the latest features in XR to your laptop or development environment. Having said that, any issues found on IOS-XRv64 are fixed on a best-effort basis. We strive to provide a platform that the community can work with and help stabilize through their use. Any feedback is appreciated and you can always leave your comments below.</p>

<h2 id="pre-requisites">Pre-requisites:</h2>
<ul>
  <li>
<a href="https://www.vagrantup.com/downloads.html">Vagrant</a> for your Operating System. 1.8+</li>
</ul>

<p class="notice--danger"><strong>There is currently a bug in vagrant version 1.8.7 causing a failure in <code class="highlighter-rouge">vagrant box add</code> on Mac OSX. Either follow the workaround as specified here: <a href="https://github.com/mitchellh/vagrant/issues/7997">https://github.com/mitchellh/vagrant/issues/7997</a> or downgrade to Vagrant version 1.8.6</strong></p>

<ul>
  <li>
<a href="https://www.virtualbox.org/wiki/Downloads">Virtualbox</a> for your Operating System. 5.1+</li>
  <li>A laptop with atleast 4-5G free RAM. (Each XR vagrant instance uses upto 4G RAM, so plan ahead based on the number of XR nodes you want to run)</li>
</ul>

<p>Tha above items are applicable to all operating systems - Mac OSX, Linux or Windows.</p>

<p class="notice--danger"><strong>If you’re using Windows, we would urge you to download a utility like <a href="https://git-scm.com/download/win">Git Bash</a> so that all the commands provided below work as advertised.</strong></p>

<h2 id="single-node-bringup">Single Node Bringup</h2>

<h3 id="download-and-add-the-ios-xrv-vagrant-box">Download and Add the IOS-XRv vagrant box</h3>

<blockquote class="notice--danger">

  <p><strong>IOS-XR Vagrant is currently in Private Beta</strong></p>

  <p>To download the box, you will need an <strong>API-KEY</strong> and a <strong>CCO-ID</strong></p>

  <p>To get the API-KEY and a CCO-ID, browse to the following link and follow the steps:</p>

  <p><a href="https://xrdocs.io/getting-started/steps-download-iosxr-vagrant">Steps to Generate API-KEY</a></p>
</blockquote>

<h3 id="pick-the-last-stable-version">Pick the last stable version</h3>

<p>The last stable version of XR vagrant was 6.1.2.These images have been out for a while, and should work well. Pick this if you want something that works for sure.</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>

$ BOXURL="https://devhub.cisco.com/artifactory/appdevci-release/XRv64/6.1.2/iosxrv-fullk9-x64.box"

$ curl <b><mark>-u your-cco-id:API-KEY</mark></b> $BOXURL --output ~/iosxrv-fullk9-x64.box

$ vagrant box add --name IOS-XRv ~/iosxrv-fullk9-x64.box

</code>
</pre>
</div>

<h3 id="pick-the-latest-run-with-scissors">Pick the latest (run with scissors)</h3>

<p>If you’re feeling adventurous, pick the latest version of the XR vagrant box as shown below.
Bear in mind, there may be bugs and you are free to ask us questions and/or raise issues on our github repo:</p>

<blockquote>
  <p><a href="https://github.com/xrdocs/application-hosting/issues">https://github.com/xrdocs/application-hosting/issues</a></p>
</blockquote>

<div class="highlighter-rouge">
<pre class="highlight">
<code>

$ BOXURL="https://devhub.cisco.com/artifactory/XRv64-snapshot/latest/iosxrv-fullk9-x64.latest.box"

$ curl <b><mark>-u your-cco-id:API-KEY</mark></b> $BOXURL --output ~/iosxrv-fullk9-x64.box

$ vagrant box add --name IOS-XRv ~/iosxrv-fullk9-x64.box

</code>
</pre>
</div>

<p class="notice--danger">Of course, you should replace  your-cco-id with your actual Cisco.com ID and API-KEY with the key you generated and copied using the above <a href="https://xrdocs.io/getting-started/steps-download-iosxr-vagrant">link</a>.</p>

<p class="notice--info">The <code class="highlighter-rouge">curl</code> command will take around 10-15 mins as it downloads the box for you. If it happens pretty quickly then it probably means you still don’t have access and you can check the downloaded box file to see if it is a vagrant box (about 1.8G) or a simple “unauthorized” html document.</p>

<p>Once it completes, you should be able to see the box added as “IOS-XRv” in your local vagrant box list:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
AKSHSHAR-M-K0DS:~ akshshar<span class="nv">$ </span>vagrant box list
IOS-XRv <span class="o">(</span>virtualbox, 0<span class="o">)</span>
AKSHSHAR-M-K0DS:~ akshshar<span class="nv">$ </span>

</code></pre></div></div>

<h3 id="initialize-a-vagrantfile">Initialize a Vagrantfile</h3>

<p>Let’s create a working directory (any name would do) for our next set of tasks:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir ~/iosxrv; cd ~/iosxrv
</code></pre></div></div>

<p>Now, in this directory, let’s initialize a Vagrantfile with the name of the box we added.</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>

AKSHSHAR-M-K0DS:iosxrv akshshar$<mark> vagrant init IOS-XRv </mark>
A `Vagrantfile` has been placed in this directory. You are now
ready to `vagrant up` your first virtual environment! Please read
the comments in the Vagrantfile as well as documentation on
`vagrantup.com` for more information on using Vagrant.
AKSHSHAR-M-K0DS:iosxrv akshshar$

</code>
</pre>
</div>

<h3 id="bring-up-the-vagrant-instance">Bring up the Vagrant Instance</h3>

<p>A simple <code class="highlighter-rouge">vagrant up</code> will bring up the XR instance</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vagrant up 
</code></pre></div></div>

<p class="notice--info">This bootup process will take some time, (close to 5 minutes).</p>

<p class="notice--warning">You might see some ` Warning: Remote connection disconnect. Retrying…` messages. Ignore them. These messages appear because the box takes longer than a normal linux machine to boot.</p>

<p>Look for the green “vagrant up” welcome message to confirm the machine has booted:</p>

<p class="notice"><img src="https://xrdocs.github.io/xrdocs-images/assets/tutorial-images/vagrant_up_single_node.png" alt="Vagrant up message"></p>

<p>Now we have two options to access the Vagrant instance:</p>

<h3 id="access-the-xr-linux-shell">Access the XR Linux shell</h3>

<p>Vagrant takes care of key exchange automatically. We’ve set things up to make sure that the XR linux shell (running SSH on port 57722) is the environment a user gets dropped into when using <code class="highlighter-rouge">vagrant ssh</code></p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:simple-mixed-topo akshshar$<mark> vagrant ssh </mark>
xr-vm_node0_RP0_CPU0:~$ 
xr-vm_node0_RP0_CPU0:~$ 
xr-vm_node0_RP0_CPU0:~$ 
</code>
</pre>
</div>

<p class="notice--info">The reason we select the XR linux shell as the default environment and not XR CLI, should be obvious to seasoned users of Vagrant. In the future,Vagrantfiles that integrate chef/puppet/Ansible/Shell as Vagrant provisioners would benefit from linux as the default environment.</p>

<h3 id="access-xr-console">Access XR Console</h3>
<p>XR SSH runs on port 22 of the guest IOS-XR instance.<br>
First, determine the port to which the XR SSH port (port 22) is forwarded by vagrant by using the <code class="highlighter-rouge">vagrant port</code> command:</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:simple-mixed-topo akshshar$ <mark> vagrant port </mark>
The forwarded ports for the machine are listed below. Please note that
these values may differ from values configured in the Vagrantfile if the
provider supports automatic port collision detection and resolution.

    <mark>22 (guest) =&gt; 2223 (host) </mark>
 57722 (guest) =&gt; 2222 (host)
</code>
</pre>
</div>

<p>As shown above, port 22 of XR is fowarded to port 2223:</p>

<p>Use port 2223 to now ssh into XR CLI</p>

<p class="notice--info">The password is “vagrant”</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:simple-mixed-topo akshshar$<mark> ssh -p 2223 vagrant@localhost</mark>
The authenticity of host '[localhost]:2223 ([127.0.0.1]:2223)' can't be established.
RSA key fingerprint is 65:d1:b8:f6:68:9c:04:a2:d5:db:17:d8:de:04:cb:22.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[localhost]:2223' (RSA) to the list of known hosts.
vagrant@localhost's password: 


RP/0/RP0/CPU0:ios#
RP/0/RP0/CPU0:ios#
RP/0/RP0/CPU0:ios#
</code>
</pre>
</div>

<h2 id="multi-node-bringup">Multi Node Bringup</h2>

<p class="notice--warning">Bear in mind the RAM and CPU resource requirements per IOS-XR vagrant instance before you proceed with this section. A 3 node topology as shown below will require 8-9G RAM and can be shared on a 4-core CPU with your laptop’s OS.</p>

<p>Let’s try to bring up a multi-node topology as shown below:
<img src="https://xrdocs.github.io/xrdocs-images/assets/tutorial-images/vagrant_simple_mixed_topo.png" alt="Topology"></p>

<h3 id="set-up-the-vagrantfile">Set up the Vagrantfile</h3>
<p>For this purpose, Let’s use a Sample vagrantfile located here:<br>
<a href="https://github.com/ios-xr/vagrant-xrdocs/blob/master/simple-mixed-topo/Vagrantfile">https://github.com/ios-xr/vagrant-xrdocs/blob/master/simple-mixed-topo/Vagrantfile</a></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/ios-xr/vagrant-xrdocs.git
cd vagrant-xrdocs/simple-mixed-topo
</code></pre></div></div>

<p>Shown below is a snippet of the Vagrantfile:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>

    <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">define</span> <span class="s2">"rtr1"</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
      <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span>  <span class="s2">"IOS-XRv"</span>

      <span class="c1"># gig0/0/0/0 connected to link2, </span>
      <span class="c1"># gig0/0/0/1 connected to link1, </span>
      <span class="c1"># gig0/0/0/2 connected to link3,</span>
      <span class="c1"># auto-config not supported.</span>

      <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">virtualbox__intnet: </span><span class="s2">"link2"</span><span class="p">,</span> <span class="ss">auto_config: </span><span class="kp">false</span>
      <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">virtualbox__intnet: </span><span class="s2">"link1"</span><span class="p">,</span> <span class="ss">auto_config: </span><span class="kp">false</span>
      <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">virtualbox__intnet: </span><span class="s2">"link3"</span><span class="p">,</span> <span class="ss">auto_config: </span><span class="kp">false</span> 

    <span class="k">end</span>

    <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">define</span> <span class="s2">"rtr2"</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
      <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span>  <span class="s2">"IOS-XRv"</span>

      <span class="c1"># gig0/0/0/0 connected to link1,</span>
      <span class="c1"># gig0/0/0/1 connected to link3, </span>
      <span class="c1"># auto-config not supported</span>

      <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">virtualbox__intnet: </span><span class="s2">"link1"</span><span class="p">,</span> <span class="ss">auto_config: </span><span class="kp">false</span>
      <span class="n">node</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">virtualbox__intnet: </span><span class="s2">"link3"</span><span class="p">,</span> <span class="ss">auto_config: </span><span class="kp">false</span>

    <span class="k">end</span>

</code></pre></div></div>

<p>If you compare this with the topology above it becomes pretty clear how the interfaces of the XR instances are mapped to individual links.</p>

<p class="notice--warning">The order of the “private_networks” is important.<br>
<strong>For each XR node, the first “private_network” corresponds to gig0/0/0/0, the second “private_network” to gig0/0/0/1 and so on.</strong></p>

<h3 id="bring-up-the-topology">Bring up the topology</h3>
<p>As before, we’ll issue a <code class="highlighter-rouge">vagrant up</code> to bring up the topology.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vagrant up
</code></pre></div></div>

<p class="notice--warning">This will take some time, possibly over 10 minutes.</p>

<p>Look for the green “vagrant up” welcome message to confirm the three machines have booted:</p>

<p class="notice"><img src="https://xrdocs.github.io/xrdocs-images/assets/tutorial-images/vagrant_up_multiple_node.png" alt="Vagrant up message"></p>

<h3 id="access-the-nodes">Access the nodes</h3>

<p class="notice--info">The only point to remember is that in a multinode setup, we “name” each node in the topology.</p>

<p>For example, let’s access “rtr2”</p>

<ul>
  <li>
<strong>Access the XR Linux shell</strong>:</li>
</ul>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:simple-mixed-topo akshshar$<mark> vagrant ssh rtr2</mark> 
Last login: Tue May 31 05:43:44 2016 from 10.0.2.2
xr-vm_node0_RP0_CPU0:~$ 
xr-vm_node0_RP0_CPU0:~$ 
</code>
</pre>
</div>

<ul>
  <li>
<strong>Access XR Console</strong>:</li>
</ul>

<p>Determine the forwarded port for port 22 (XR SSH) for rtr2:</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:simple-mixed-topo akshshar$<mark> vagrant port rtr2 </mark>
The forwarded ports for the machine are listed below. Please note that
these values may differ from values configured in the Vagrantfile if the
provider supports automatic port collision detection and resolution.

    <mark>22 (guest) =&gt; 2201 (host)</mark>
 57722 (guest) =&gt; 2200 (host)
AKSHSHAR-M-K0DS:simple-mixed-topo akshshar$ 
</code>
</pre>
</div>

<p>For rtr2 port 22, the forwarded port is 2201. So, to get into the XR CLI of rtr2, we use:</p>

<div class="highlighter-rouge">
<pre class="highlight">
<code>
AKSHSHAR-M-K0DS:simple-mixed-topo akshshar$<mark> ssh -p 2201 vagrant@localhost </mark>
The authenticity of host '[localhost]:2201 ([127.0.0.1]:2201)' can't be established.
RSA key fingerprint is 65:d1:b8:f6:68:9c:04:a2:d5:db:17:d8:de:04:cb:22.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[localhost]:2201' (RSA) to the list of known hosts.
vagrant@localhost's password: 


RP/0/RP0/CPU0:ios#
RP/0/RP0/CPU0:ios#
</code>
</pre>
</div>

<p class="notice--success">That’s it for the quick-start guide on XR vagrant. Launch your very own XR instance using vagrant and let us know your feedback in the comments below!</p>

<p>Head over to Part 2 of the XR Toolbox series where we look at bootstrapping a Vagrant XR instance with a user-defined configuration on boot —&gt; <a href="https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-bootstrap-config">Bootstrap XR configuration with Vagrant</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#apphosting" class="page__taxonomy-item" rel="tag">apphosting</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#cisco" class="page__taxonomy-item" rel="tag">cisco</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#iosxr" class="page__taxonomy-item" rel="tag">iosxr</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#vagrant" class="page__taxonomy-item" rel="tag">vagrant</a><span class="sep">, </span>
    
      
      
      <a href="https://xrdocs.io/application-hosting/tags/#xr-toolbox" class="page__taxonomy-item" rel="tag">xr toolbox</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-05-22T20:49:00+00:00">May 22, 2016</time></p>
        
        

      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-quickstart" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-quickstart" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-quickstart" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xrdocs.io/application-hosting/tutorials/iosxr-vagrant-quickstart" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

    <br>
    <br>
    <br>
</section>


    </div>

    
      

<div class="page__comments">
  <h4 class="page__comments-title">Leave a Comment</h4>
  
    <section id="disqus_thread"></section>
  
</div>
    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/xrdocs"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/xrdocs"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https://xrdocs.io/application-hosting/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">This site is maintained by Cisco Systems, Inc. employees. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://xrdocs.io/application-hosting/assets/js/main.min.js"></script>
<script src="https://xrdocs.io/application-hosting/assets/js/scrollmenu.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78256516-1', 'auto');
  ga('send', 'pageview');
</script>






  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'xrdocs';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>






<!-- material-scrolltop button -->
<button class="material-scrolltop" type="button"></button>

<!-- material-scrolltop plugin -->
<script src="https://xrdocs.io/application-hosting/assets/js/material-scrolltop.js"></script>

<!-- Initialize material-scrolltop with (minimal) -->
<script>
    $('body').materialScrollTop();
</script>


  </body>
</html>
